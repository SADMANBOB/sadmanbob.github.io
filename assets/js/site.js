const nav=document.getElementById('nav'),ham=document.getElementById('hamburger'),toggle=document.getElementById('themeToggle'),year=document.getElementById('year');ham&&ham.addEventListener('click',()=>{if(!nav)return;const s=nav.style.display==='flex'||nav.style.display==='';nav.style.display=s?'none':'flex'});const stored=localStorage.getItem('theme');if(stored){document.body.className=stored}toggle&&toggle.addEventListener('click',()=>{const next=document.body.classList.contains('theme-dark')?'theme-light':'theme-dark';document.body.className=next;localStorage.setItem('theme',next)});if(year){year.textContent=new Date().getFullYear()}const revealEls=document.querySelectorAll('.reveal');const io=new IntersectionObserver(e=>{e.forEach(x=>{if(x.isIntersecting){x.target.classList.add('in');io.unobserve(x.target);}})},{threshold:.15});revealEls.forEach(el=>io.observe(el));document.querySelectorAll('.faq .item button').forEach(btn=>{btn.addEventListener('click',()=>{const item=btn.closest('.item');const c=item.querySelector('.content');const open=item.classList.contains('open');if(open){c.style.maxHeight='0px';item.classList.remove('open')}else{c.style.maxHeight=c.scrollHeight+'px';item.classList.add('open')}})});const topbar=document.querySelector('.topbar');window.addEventListener('scroll',()=>{if(!topbar)return;topbar.classList.toggle('elevated',window.scrollY>8)});const reviews=document.querySelectorAll('.review');let ri=0;if(reviews.length){setInterval(()=>{reviews[ri].classList.remove('active');ri=(ri+1)%reviews.length;reviews[ri].classList.add('active')},6000)}